---
import StarlightThemeSelect from '@astrojs/starlight/components/ThemeSelect.astro'
import type { Props } from '@astrojs/starlight/props'

import { getRelativeBlogUrl } from '../libs/page'
import { getBlogTitle } from '../libs/title'
import { showBlogLinkInThemeSelect } from '../libs/theme_select'

const { locale } = Astro.props
---

{showBlogLinkInThemeSelect() && <div>
  <a href={getRelativeBlogUrl('/', locale)}>{getBlogTitle(locale)}</a>
</div>}
<StarlightThemeSelect {...Astro.props}>
  <slot />
</StarlightThemeSelect>

<style>
  div {
    border-inline-end: 1px solid var(--sl-color-gray-5);
    display: none;
    padding-inline-end: 1rem;
  }

  @media (min-width: 50rem) {
    div {
      display: flex;
    }
  }

  a {
    color: var(--sl-color-text-accent);
    font-weight: 600;
    text-decoration: none;
  }
</style>
